+++
title = "DNS Override in DHCP Mode"
template = "page.html"
date = 2018-11-06T00:37:27+08:00
[taxonomies]
tags = ["linux"]
[extra]
summary = "DNS Override in DHCP Mode"
+++

原因是 Vultr DNS 會不定期爛掉，一個新的 instance 預設是 DHCP。發 Ticket 去問客服，他會教你如何採用固定 IP 配置。
不過如果不想跟客服周旋，可以自己 Override DNS 設定。

`
$ cat /etc/network/interfaces #確認 interface
`

```
# This file describes the network interfaces available on your system
# and how to activate them. For more information, see interfaces(5).

#source /etc/network/interfaces.d/*

auto lo
iface lo inet loopback

allow-hotplug ens3
iface ens3 inet dhcp
iface ens3 inet6 auto
```

`
$ vi /etc/dhcp/dhclient.conf #修改 DHCP 設定
`

```
interface "ens3" {
    supersede domain-name-servers 1.1.1.1, 1.0.0.1;
}
```

`
$ Reboot && cat /etc/resolv.conf
`

```
# Dynamic resolv.conf(5) file for glibc resolver(3) generated by resolvconf(8)
#     DO NOT EDIT THIS FILE BY HAND -- YOUR CHANGES WILL BE OVERWRITTEN
nameserver 2001:19f0:300:1704::6
nameserver 1.1.1.1
nameserver 1.0.0.1
```
